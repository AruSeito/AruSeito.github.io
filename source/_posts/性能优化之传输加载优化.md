---
title: 性能优化之传输加载优化
categories:
  - 性能优化
tags:
  - 网络传输
  - nginx
index_img: https://cdn.jsdelivr.net/gh/AruSeito/AruSeito.github.io@main/source/img/banner/bg6.jpg
banner_img: https://cdn.jsdelivr.net/gh/AruSeito/AruSeito.github.io@main/source/img/banner/bg6.jpg
date: 2021-03-02 18:24:13
---

## 传输压缩方案-GZip

对传输资源进行体积压缩，可以高达90%

以下为nginx配置

```properties
gzip on;
gzip_min_length 1k; # 文件最小启用压缩大小
gzip_comp_level 6; # 压缩级别1-9 等级越高CPU消耗越高
gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/xml text/javascript application/json; # 文件压缩类型，一般重点压缩文本类型，图片压缩使用gzip消耗大，收益小。
gzip_static on; # 已经压缩过的资源可以直接用
gzip_vary on;# 响应头添加vary属性，告知客户端启用gzip压缩
gzip_buffers 4 16k; #使用buffer优化压缩过程
gzip_http_version 1.1; #使用gzip的http版本
```

## 复用TCP链接-Keep Alive

不需要重复建立链接，节省了链接创建时间。

Chrome-DevTools-NetWork-waterfall-Initial connection只出现在第一个请求，后续没有这段消耗的时间。

可以通过response Headers-connection：keep-alive查看是否开启

以下为nginx配置：

```properties
keepalive_timeout 65; # 超时时间，超过该时间不使用就会关闭。0表示不启用
keepalive_requests 100; # 利用该TCP链接可以发起多少个请求。
```

## HTTP资源缓存

未完，待更新。。